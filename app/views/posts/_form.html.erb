<%= form_with model: post, local: true do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
  <div class="container mt-5">
    <div class="row">
      <div class="form-group col-auto">
        <%= f.label :partner %>
        <%= f.collection_select :partner_id, @partners, :id, :name, prompt: "選択してください" %>
      </div>
      <div class="form-group col-auto">
        <%= f.label :genre %>
        <%= f.collection_select :genre_id, @genres, :id, :name, prompt: "選択してください" %>
      </div>
      <div class="form-group col-auto">
        <%= f.label :situation %>
        <%= f.collection_select :situation_id, @situations, :id, :name, prompt: "選択してください" %>
      </div>
    </div>
    <div>
      <div class="form-group mt-4 mb-2">
        <%= f.label :partners_word %>
        <%= f.text_area :partners_word, class: 'form-control' %>
      </div>
      <div class="form-group my-2">
        <%= f.label :word %>
        <%= f.text_area :word, class: 'form-control' %>
      </div>
      <div class="form-group my-2">
        <%= f.label :episode %>
        <%= f.text_area :episode, class: 'form-control' %>
      </div>
      <div class="form-group my-2">
        <%= f.label :image %>
        <%= f.file_field :image, class: 'form-control mb-3', accept: 'image/*' %>
        <%= f.hidden_field :image_cache %>
      </div>
      <div class='mt-3 mb-3'>
        <%= image_tag post.image.url,
                      id: 'preview',
                      size: '300x200' %>
      </div>

      <%= f.submit class: 'btn btn-light mb-3' %>
    </div>
  </div>
<% end %>